<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset="utf-8" />    
</head>
<body>
    <p class="msg">msg : </p>

    테스트함
<!--
   <script src="auto-meta-1.1.0.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js?aaa"></script>
<script src="auto-meta-1.3.0.js?a"></script>

<script>

    var BindModelReadAjax       = _W.Meta.Bind.BindModelReadAjax;
    var IBindModelRead          = _W.Interface.IBindModelRead;
    var MetaObject              = _W.Meta.MetaObject
    var util                    = _W.Common.Util;



    //-----------------------------------------------------
    // 페이지 의존 함수
    function readDI() {
        IBindModelRead.call(this);

        __this = this;

        this.attrs = {
            cmd: "INSERT",
            idx: 130
        };

        // 등록 방법 
        // 1) 함수로 선언하여 위치를 자유롭게 선언 후 cbRegister에 등록
        // 2) cbRegister 에 즉시 선언
        // 3) this.XXX 선언후 등록 (this.cbRegister 보다 우선 선언해야 함)
        this.cbRegister = function() {
            this.read.cbView = function(entity) {      // 함수로 선언하여 위치를 자유롭게 두던지, 
                console.log("cbView  호출");    
                console.log("this._model.first.items.count  10 ==> " + this._model.first.items.count);   
                console.log("entity.items.count             10 ==> " + entity.items.count);   
                console.log("entity.rows.count              1  ==> " + entity.rows.count);   
                console.log("entity.rows[0]                 ,, ==> " + entity.rows[0]._items);   
                __this.msg();
            };
        };
        
        this.cbResume = function(model) {
            this.read.execute();
        };

    }
    util.inherits(readDI, IBindModelRead);
    
    readDI.prototype.msg = function(a) {
        console.log("msg...");
    };

    //-----------------------------------------------------
    // 연결
    var e = new BindModelReadAjax(new readDI());

    // 등록
    // e.baseUrl = "./sample_row_single.json";     // 로컬 로딩
    e.baseUrl = "http://rtwgs4.cafe24.com/sample_row_single.asp";    // 로컬로딩
    // e.baseUrl = "http://rtwgs4.cafe24.com/sample_row_single.as";    // 오류 1
    // e.baseUrl = "sample_row_single.jsona";                      // 오류 2

    e.onFail = function(p_msg) {
        console.log("오류  ==> " + p_msg);
    };
    e.onExecute = function() {      // 실행시
        console.log("onExecute 이벤트 ");
    };
    e.onExecuted = function() {      // 실행끝
        console.log("onExecuted 이벤트 ");
    };
    //------------------------------
    e.init();
    console.log("-End-");

</script>
</body>
</html>